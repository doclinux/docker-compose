# /opt/docker-compose.yml
---
version: '2'
services:
        docker-proxy:
                image: jwilder/nginx-proxy:latest
                container_name: docker-proxy
                volumes:
                - /dockerfiles/ssl-certs:/etc/nginx/certs
                - /dockerfiles/nginx-proxy/:/etc/nginx/vhost.d/
                - /var/run/docker.sock:/tmp/docker.sock
                - /etc/nginx/vhost.d
                - /usr/share/nginx/html
                restart: always
                ports:
                - 80:80
                - 443:443
                network_mode: "bridge"
        docker-proxy-sslgen:
                image: jrcs/letsencrypt-nginx-proxy-companion
                container_name: docker-proxy-sslgen
                depends_on:
                - docker-proxy
                volumes:
                - /var/run/docker.sock:/var/run/docker.sock:ro
                volumes_from:
                - docker-proxy:rw
                network_mode: "bridge"
        tt-rss:
                image: linuxserver/tt-rss
                container_name: tt-rss
                volumes:
                - /dockerfiles/ttrss:/config
                restart: always
                ports:
                - 8082:80
                environment:
                - PGID=501
                - PUID=501
                - LETSENCRYPT_HOST=tt-rss.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=tt-rss.thechurchills.org.uk
                - TZ=Europe/London
                network_mode: "bridge"
        nzbhydra:
                image: linuxserver/hydra2
                container_name: nzbhydra
                volumes:
                - /dockerfiles/nzbhydra:/config
                - /etc/localtime:/etc/localtime:ro
                restart: always
                ports:
                - 5076:5076
                environment:
                - PGID=501
                - PUID=501
                - LETSENCRYPT_HOST=nzbhydra.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=nzbhydra.thechurchills.org.uk
                - TZ=Europe/London
                network_mode: "bridge"
        nzbget:
                image: linuxserver/nzbget
                container_name: nzbget
                volumes:
                - /dockerfiles/nzbget:/config
                - /home/terry/downloads/:/downloads
                - /dockerfiles/nzbtemp/:/intermediate
                restart: always
                ports:
                - 6789:6789
                environment:
                - PGID=501
                - PUID=501
                - LETSENCRYPT_HOST=nzbget.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=nzbget.thechurchills.org.uk
                - TZ=Europe/London
                network_mode: "bridge"
        radarr:
                image: linuxserver/radarr
                container_name: radarr
                volumes:
                - /home/terry/downloads:/done
                - /dockerfiles/radarr:/config
                - /home/terry/downloads:/downloads
                - /fs01/media/Movies:/movies
                - /dev/rtc:/dev/rtc:ro
                restart: always
                ports:
                - 5050:7878
                environment:
                - PGID=501
                - PUID=501
                - LETSENCRYPT_HOST=radarr.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=radarr.thechurchills.org.uk
                - TZ=Europe/London
                network_mode: "bridge"
        sonarr:
                image: linuxserver/sonarr
                container_name: sonarr
                volumes:
                - /home/terry/downloads:/done
                - /dockerfiles/sonarr:/config
                - /home/terry/downloads:/downloads
                - /fs01/media/TV:/tv
                - /dev/rtc:/dev/rtc:ro
                restart: always
                ports:
                - 8989:8989
                environment:
                - PGID=501
                - PUID=501
                - LETSENCRYPT_HOST=sonarr.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=sonarr.thechurchills.org.uk
                - TZ=Europe/London
                network_mode: "bridge"
        sufr:
                image: kyleterry/sufr
                container_name: sufr
                volumes:
                - /dockerfiles/sufrdb:/root/.config/sufr/data/
                restart: always
                ports:
                - 8090:8090
                environment:
                - PGID=501
                - PUID=501
                - LETSENCRYPT_HOST=sufr.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=sufr.thechurchills.org.uk
                - TZ=Europe/London
                network_mode: "bridge"
        lazy:
                image: linuxserver/lazylibrarian
                container_name: lazy
                volumes:
                - /dockerfiles/lazylibrarian/:/config
                - /home/terry/downloads/EBooks/:/downloads
                - /fs01/media/ebooks/:/books
                restart: always
                ports:
                - 5299:5299
                environment:
                - PGID=501
                - PUID=501
                - LETSENCRYPT_HOST=lazy.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=lazy.thechurchills.org.uk
                - TZ=Europe/London
                network_mode: "bridge"
        embyserver:
                image: emby/embyserver:beta
                container_name: embyserver
                volumes:
                - /dockerfiles/emby/config:/config
                - /mnt/embyusb/cache:/config/cache
                - /mnt/embyusb/data:/config/data
                - /fs01/media/TV:/mnt/tv
                - /fs01/media/Movies:/mnt/movies
                - /fs01/media/Movies4K:/mnt/movies4k
                - /fs01/media/Music:/mnt/music
                - /fs01/media/recordings:/mnt/recordings
                - /dockerfiles/emby-sync:/mnt/emby-sync
                - /dockerfiles/emby-backup/:/backup
                devices:
                - "/dev/dri/renderD128"
                ports:
                - 8096:8096
                - 8920:8920
                environment:
                - UID=501
                - GIU=501
                - GIDLIST=44,501
                - LETSENCRYPT_HOST=emby.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=emby.thechurchills.org.uk
                - VIRTUAL_PORT="8096"
                network_mode: "host"
        lidarr:
                image: linuxserver/lidarr
                container_name: lidarr
                volumes:
                - /dockerfiles/lidarr:/config
                - /home/terry/downloads:/downloads
                - /fs01/media/Music:/music
                - /dev/rtc/:/dev/rtc:ro
                devices:
                - "/dev/dri/renderD128"
                ports:
                - 8686:8686
                environment:
                - PUID=501
                - PGID=501
                - TZ=Europe/London
                - LETSENCRYPT_HOST=lidarr.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=lidarr.thechurchills.org.uk
                - VIRTUAL_PORT="8686"
                network_mode: "bridge"
        thelounge:
                image: thelounge/lounge
                container_name: thelounge
                volumes:
                - /dockerfiles/thelounge:/home/lounge/data
                ports:
                - 9000:9000
                environment:
                - PUID=501
                - PGID=501
                - TZ=Europe/London
                - LETSENCRYPT_HOST=thelounge.thechurchills.org.uk
                - LETSENCRYPT_EMAIL=terry@thechurchills.org.uk
                - VIRTUAL_HOST=thelounge.thechurchills.org.uk
                - VIRTUAL_PORT="9000"
                network_mode: "bridge"
        dnsproxy:
                image: defreitas/dns-proxy-server
                container_name: dns_proxy
                volumes:
                - /var/run/docker.sock:/var/run/docker.sock
                - /dockerfiles/dns-proxy/resolv.conf:/etc/resolv.conf
                network_mode: "host"
